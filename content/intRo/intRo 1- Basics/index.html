---
title: "intRo 1- Basics"
author: "Billy Fryer"
date: 2021-01-20
categories: ["R"]
tags: ["intRo Tutorials"]
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<div id="single-value-variables" class="section level1">
<h1>Single Value Variables</h1>
<pre class="r"><code>a &lt;- 10 # this is an INTEGER variable
b &lt;- &quot;Wolfpack&quot; # this is a CHARACTER variable (aka a string)
a</code></pre>
<pre><code>## [1] 10</code></pre>
<pre class="r"><code>print(a)</code></pre>
<pre><code>## [1] 10</code></pre>
<pre class="r"><code>b</code></pre>
<pre><code>## [1] &quot;Wolfpack&quot;</code></pre>
<pre class="r"><code>print(b)</code></pre>
<pre><code>## [1] &quot;Wolfpack&quot;</code></pre>
</div>
<div id="vectors" class="section level1">
<h1>Vectors</h1>
<pre class="r"><code>vec1 &lt;- c(1,2,4,5) 
# An integer vector - the c() function is very useful!
vec2 &lt;- 1:5 # another integer vector, the : makes a sequence from 1:5
vec3 &lt;- c(&quot;NC State&quot;,&quot;Wolfpack&quot;) # this is a character vector
print(vec1)</code></pre>
<pre><code>## [1] 1 2 4 5</code></pre>
<pre class="r"><code>print(vec2)</code></pre>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<pre class="r"><code>print(vec3)</code></pre>
<pre><code>## [1] &quot;NC State&quot; &quot;Wolfpack&quot;</code></pre>
<pre class="r"><code>class(vec1) </code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code># To see what type a variable/vector is, use the class() function

# What if we want to look at just a certain item from a vector?
vec1[3] # print the 3rd item/element from vec1</code></pre>
<pre><code>## [1] 4</code></pre>
<pre class="r"><code>vec3[1] # print the 1st item/element from vec3</code></pre>
<pre><code>## [1] &quot;NC State&quot;</code></pre>
<pre class="r"><code># SINGLE brackets

# Can we mix variable types in a vector? No
mixedvec &lt;- c(1:4,&quot;Wolfpack&quot;) 
# Because Wolfpack is character, all are converted to character
print(mixedvec)</code></pre>
<pre><code>## [1] &quot;1&quot;        &quot;2&quot;        &quot;3&quot;        &quot;4&quot;        &quot;Wolfpack&quot;</code></pre>
<pre class="r"><code>class(mixedvec)</code></pre>
<pre><code>## [1] &quot;character&quot;</code></pre>
<pre class="r"><code>#&#39; There is another data type called a List that we will not discuss
#&#39; It CAN hold both numeric and character values in a similar way to 
#&#39; vectors. But we want to do more interesting things, so we&#39;ll move on
#&#39; for now.</code></pre>
</div>
<div id="multidimensional-objects" class="section level1">
<h1>Multidimensional Objects</h1>
<pre class="r"><code>mat &lt;- matrix(1:12, nrow=4, ncol=3) # this is a MATRIX
mat</code></pre>
<pre><code>##      [,1] [,2] [,3]
## [1,]    1    5    9
## [2,]    2    6   10
## [3,]    3    7   11
## [4,]    4    8   12</code></pre>
<pre class="r"><code>mat[2,3] # extracts item in 2nd ROW, 3rd COLUMN of the matrix</code></pre>
<pre><code>## [1] 10</code></pre>
<pre class="r"><code>mat[4,] # extracts the 4th row, ALL columns</code></pre>
<pre><code>## [1]  4  8 12</code></pre>
<pre class="r"><code>mat[,2] # extracts ALL rows, the 2nd column</code></pre>
<pre><code>## [1] 5 6 7 8</code></pre>
<pre class="r"><code># this is a data.frame
df &lt;- data.frame(Name = c(&quot;Tom Brady&quot;, &quot;Jackie Robinson&quot;, &quot;Kobe Bryant&quot;), 
                 Number = c(12, 42, 24))
df</code></pre>
<pre><code>##              Name Number
## 1       Tom Brady     12
## 2 Jackie Robinson     42
## 3     Kobe Bryant     24</code></pre>
<pre class="r"><code>df[2,2] # You can still access these the same way</code></pre>
<pre><code>## [1] 42</code></pre>
<pre class="r"><code>df[2,] # extracts the 2nd row, ALL columns</code></pre>
<pre><code>##              Name Number
## 2 Jackie Robinson     42</code></pre>
<pre class="r"><code>df[,2] # extracts ALL rows, the 2nd column</code></pre>
<pre><code>## [1] 12 42 24</code></pre>
<pre class="r"><code>df$Name # This accesses the Name column</code></pre>
<pre><code>## [1] &quot;Tom Brady&quot;       &quot;Jackie Robinson&quot; &quot;Kobe Bryant&quot;</code></pre>
<pre class="r"><code># However, you can do a lot more with Data Frames

df &lt;- rbind(df, c(&quot;Rafael Nadal&quot;, NA)) # We can add a row
df &lt;- cbind(df, Sport = c(&quot;Football&quot;, &quot;Baseball&quot;, &quot;Basketball&quot;, &quot;Tennis&quot;)) # We can add a new column
df$Country &lt;- c(&quot;USA&quot;, &quot;USA&quot;, &quot;USA&quot;, &quot;Spain&quot;)  # We can reassign columns a lot easier</code></pre>
</div>
<div id="commenting-code" class="section level1">
<h1>Commenting Code</h1>
<p>Commenting your code is the most important thing you can do. To comment in R, use a #. Commenting is super important because it allows you to make notes about functions you may be unfamiliar with or to explain your
reasoning to others. If you don’t comment your code, you are a loser.</p>
</div>
<div id="packages" class="section level1">
<h1>Packages</h1>
<pre class="r"><code># install.packages(&#39;tidyverse&#39;) </code></pre>
<p>Packages must first be installed. Once you install it once you’re good forever. That is why the previous line of code is commented out. To use a package, you need to use the <em>library()</em> function.</p>
<pre class="r"><code>library(tidyverse) </code></pre>
<pre><code>## -- Attaching packages --------------------------------------- tidyverse 1.3.1 --</code></pre>
<pre><code>## v ggplot2 3.3.5     v purrr   0.3.4
## v tibble  3.1.6     v dplyr   1.0.8
## v tidyr   1.2.0     v stringr 1.4.0
## v readr   2.1.2     v forcats 0.5.1</code></pre>
<pre><code>## -- Conflicts ------------------------------------------ tidyverse_conflicts() --
## x dplyr::filter() masks stats::filter()
## x dplyr::lag()    masks stats::lag()</code></pre>
<p>Tidyverse is the best overall collection of packages in R, includes ggplot2, tibble, tidyr, readr, purrr, dplyr, stringr, &amp; forcats. We will discuss some of these later.</p>
</div>
<div id="introduction-to-tidyverse" class="section level1">
<h1>Introduction to Tidyverse</h1>
<p>For more interesting data, we are going to use the Lahman datasets</p>
<pre class="r"><code>#install.packages(&quot;Lahman&quot;)
library(Lahman)</code></pre>
<p>Let’s use some of the interesting functions in tidyverse</p>
<pre class="r"><code>lahmanB &lt;- Batting %&gt;% 
  select(c(playerID, yearID, G:H, RBI, HR))</code></pre>
<p>%&gt;% is called “pipe”. It is a nicer way to nest functions and is available through the magrittr package which loads automatically when you library the tidyverse package. This code functions the same as:</p>
<pre class="r"><code>lahmanB2 &lt;- select(Batting, c(playerID, G:R, RBI))</code></pre>
<p>The select() function is from the dplyr package in tidyverse. It allows you to select certain variables for analysis.</p>
<pre class="r"><code>lahmanP &lt;- People %&gt;% select(playerID, nameFirst, nameLast) %&gt;% 
                      mutate(name = paste(nameFirst, nameLast))</code></pre>
<p>The mutate function allows you to add columns to a data frame. The paste function allows you to concatenate strings together with a space between words.</p>
<pre class="r"><code>lahmanP &lt;- lahmanP %&gt;% select(-c(nameFirst, nameLast))</code></pre>
<p>select can also be used to unselect columns as in the example above</p>
<pre class="r"><code>lahmanBig &lt;- merge(lahmanB, lahmanP, by = &quot;playerID&quot;)</code></pre>
<p>The merge function takes two data sets and combines them by a similar column. This is similar to joining.</p>
<pre class="r"><code>lahmanBig &lt;- lahmanBig %&gt;% 
  select(name, playerID, everything())</code></pre>
<p>The select function can also be used to reorder rows.The everything function gets all other variables in the same order. The everything function is restricted in when it can be used to selection functions, such as <em>select()</em></p>
<pre class="r"><code>lahmanHR &lt;- lahmanBig %&gt;% 
              filter(HR &gt;= 30) %&gt;%
              arrange(desc(HR), RBI, name)</code></pre>
<p>Filter limits data to only a certain characteristic. arrange sorts the data in the order of variables listed. desc() means descending. We sorted by descending number of HRs to see who hit the most in one season.</p>
</div>
<div id="r-documentation" class="section level1">
<h1>R Documentation</h1>
<ul>
<li>When you don’t know how to do something, look at the R Documentation using a ? before the function you want to learn more about</li>
</ul>
<pre class="r"><code># ?select </code></pre>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>This wraps up the bare basics about coding in R. There are of courses many more things to learn both in other tutorials and through other resources. I want to say thanks to former NCSU Sports Analytics Club Board members Graham Pash (Twitter: <span class="citation">@gtpash</span>) and Jason Thompson (Twitter: <span class="citation">@jason24thompson</span>) for allowing me to build this tutorial series off of work they previously did.</p>
</div>
