---
title: "intRo 4- R Markdown"
author: "Billy Fryer"
date: 2021-01-20
categories: ["R"]
tags: ["intRo Tutorials"]
---

<script src="{{< blogdown/postref >}}index_files/header-attrs/header-attrs.js"></script>


<p>Here is a link to the recorded version of this tutorial!</p>
<p><a href="https://www.youtube.com/watch?v=T_OeNoOtdrI&amp;list=PLzfY2UeNJip_GBjX8xEcRcc9omZjl1jFU&amp;index=4">intRo 4 Tutorial Link</a></p>
<div id="r-markdown" class="section level1">
<h1>R Markdown</h1>
<p>R Markdown is probably my favorite thing about R Studio. R Markdown files allow you to save your code and output as a readable file such as a pdf, html, a doc and many more. For this tutorial, we will mostly be focusing on the HTML output. Outputting as an HTML file has a few additional benefits over a PDF file. It’s also possible to save an HTML file as a PDF as we will discuss later.</p>
</div>
<div id="getting-started" class="section level1">
<h1>Getting Started</h1>
<p>To open a new R Markdown File, click the drop down arrow next to the sheet of paper with the green plus on it in the top left. Then select “R Markdown”. To actually make the file after typing the code and plain text, hit the “Knit” Button. This will run all of your code and create the file.</p>
</div>
<div id="yaml-heading" class="section level1">
<h1>YAML Heading</h1>
<p>The YAML Heading is super important in R Markdown. It is where your global options go and is automatically included when opening a new R Markdown Document. The YAML Heading should always be at the beginning of the R Markdown document. The YAML Heading for this document is pasted below:</p>
<p>The <code>title</code> command allows you to create a title for your work. <code>subtitle</code>, <code>author</code>, and <code>date</code> work similarly, When working with a team, dating your work is important so that they know what data is being used. The last section of our YAML Header is for <code>output</code> There are several different formats that the output can be. Outputting as a HTML is great because you can always save it to a pdf from there by going to print the html file and then changing your printer to “Save as PDF”.</p>
<p>The last line of the YAML heading is optional. The <code>code_download = TRUE</code> option allows there to be a little button in the top right of your HTML document that gives the user access to the R Markdown file. This is FALSE by default, but is really cool if you want an easy way for others to access your code. By clicking this button, readers will be able to download the Rmd document that you created.</p>
</div>
<div id="set-up-chunk" class="section level1">
<h1>Set Up Chunk</h1>
<p>The Set Up Chunk normally goes to the very top of the document, but for this example, it has been moved:</p>
<pre class="r"><code>knitr::opts_chunk$set(echo = TRUE, 
                      include = TRUE, 
                      warning = FALSE, 
                      message = FALSE)</code></pre>
<p>There are several options that one can select in the setup chunk. There functions are explained below:</p>
<p><code>echo = TRUE</code> makes the code appear in the output document. Normally, we want this to be FALSE they don’t care about pretty code, they just want results. However, if you do want to show your code, such as this tutorial, this <code>echo = TRUE</code> option can be very useful.</p>
<p><code>include = TRUE</code> makes the code chunk is included in the output. Typically, this is marked as FALSE if echo = TRUE or vice versa. This is allows you to hide certain chunks. For example, in the rest of the tutorials, <code>include = FALSE</code> for the setup chunk.</p>
<p><code>warning = FALSE</code> cuts off warnings if FALSE or prints them when <code>warning = TRUE</code>. Typically this is FALSE because we don’t want warnings to show up in our output. However, if we are debugging, turning this on can be useful. If your code will not work, the knitting of the document will not happen, so don’t worry about that.</p>
<p><code>message = FALSE</code> is very similar to <code>warning = FALSE</code>. This can be used to hide stuff automatically printed to the console. I typically use this for the chunk that includes my libraries. The <code>library(Tidyverse)</code> command typically prints out a message that I don’t care to see in my output. To hide this message the <code>message = FALSE</code> option is used.</p>
</div>
<div id="formatting" class="section level1">
<h1>Formatting</h1>
<p>Formatting in R Markdown can take place in a variety of ways from headers to spacing to writing mathematical equations with LaTeX.</p>
<div id="headings" class="section level2">
<h2>Headings</h2>
<p>Headings occur by putting # in front of the text. For whatever level you want, put that many #s and then a space</p>
</div>
</div>
<div id="this-is-a-first-level-header" class="section level1">
<h1>This is a First Level Header</h1>
<p>Written <code># This is a First Level Header</code></p>
<div id="this-is-a-second-level-header" class="section level2">
<h2>This is a Second Level Header</h2>
<p>Written <code>## This is a Second Level Header</code></p>
<div id="this-is-third-level-header" class="section level3">
<h3>This is Third Level Header</h3>
<p>Written <code>### This is a Third Level Header</code></p>
<p>As you can see, the more hashtags we use, the smaller the header gets.</p>
</div>
</div>
<div id="spacing" class="section level2">
<h2>Spacing</h2>
<p>Spacing in R Markdown is weird. To space between words is normal, just hit the space bar. However, if you want to space between lines it gets more complicated. There are two options: putting two spaces at the end of the line and entering a blank line where you want a line gap.</p>
<p>This is an example of using the two spaces.<br />
Now we are on a new line.</p>
<p>I prefer using a blank line in between lines.</p>
<p>It makes your code longer, but it makes it a lot easier to see.</p>
<p>To do a new page, use the <code>\\newpage</code> command. You can tell that you typed it correctly because the <code>\\newpage</code> command turns a different color in your R Markdown File. The <code>\\newpage</code> command was used to insert the page break here.</p>
<div style="page-break-after: always;"></div>
</div>
<div id="the-character-and-writing-equations" class="section level2">
<h2>The  Character and Writing Equations</h2>
<p>The \ character is a tricky one to deal with. Typically it is used for writing LaTeX commands in R. If for some reason you need to write it (such as writing this tutorial), you would type the character twice for it to print once.</p>
<p>Writing equations in R is a very convenient way to do homework in your statistics classes. You start and end with a $ and then use LaTeX commands in between. If you don’t know how to write in LaTeX, don’t worry. Google is very helpful if you search “how to write [character you want] in latex”. Sometimes, this also might be the most convenient way to write special characters in R Markdown. An example is below:</p>
<p><span class="math inline">\(E(Y) = \beta_0 + \beta_1X_1 + \beta_2X_2 + ...+\beta_nX_n\)</span></p>
<p>The above equation was written: <code>\$E(Y) = \\beta_0 + \\beta_1X_1 + \\beta_2X_2 + ...+\\beta_nX_n\$</code></p>
<p>The <code>\\newpage</code> command that we learned is also a LaTeX command.</p>
</div>
<div id="text-formatting" class="section level2">
<h2>Text Formatting</h2>
<p>You can also Bold or Underline text in R Markdown. To <strong>bold</strong> text, surround the text with ** (Two Asterisks), without a space before the first word of the phrase and without a space after the last word of the phrase. To <em>italicize</em> text, do the same thing as bolding, but only use * (One Asterisk). There is currently no good way to underline text in R Markdown.</p>
</div>
</div>
<div id="writing-code-in-r-markdown" class="section level1">
<h1>Writing Code in R Markdown</h1>
<p>This is what makes R Markdown the best: including R Code and Output directly in with Plain text. R Code goes in Code Chunks, which are signified with 3 tick marks ``` (the key above tab and below the esc key on mac and pc). Then you use an open curly bracket { then the name of the language you are using (in our case, r though you can use python or other languages in R Markdown). From there you need to name the code chunk. Typically this name will be descriptive in order to make it easier to find when you let the code sit for a while and then come back to it. Names are technically optional, but named chunks are preferred. When naming your chunks, each chunk needs a distinct name for R Markdown to knit properly regardless of output type. Code chunk names should avoid spaces. Example of appropriate names would be <code>Figure1A</code> or <code>TableForAnalysis</code>. As you can see, these are not one word phrases, but are still condensed.</p>
<p>From there you close the curly bracket } and then type your code. Coding in the R chunk is the same as coding in a R script. When you are finished with the code, do three more tick marks ``` on a separate line.</p>
<p>Here’s an example.</p>
<p>```{r sample}
library(tidyverse) # Pretty Much Always Need Tidyverse!
library(Lahman) # Bring in Lahman Datasets</p>
<p>lahmanP &lt;- People %&gt;% filter(birthState == “NC”) # Only NC Pitchers</p>
<p>lahmanP &lt;- lahmanP %&gt;% select(nameGiven, debut, playerID) # Useful Variables</p>
<p>print(head(lahmanP))
```</p>
<div style="page-break-after: always;"></div>
<p><strong>Let’s actually do this!</strong></p>
<pre class="r"><code>library(tidyverse) # Pretty Much Always Need Tidyverse!
library(Lahman) # Bring in Lahman Datasets

lahmanP &lt;- People %&gt;% filter(birthState == &quot;NC&quot;) # Only NC Pitchers

lahmanP &lt;- lahmanP %&gt;% select(nameGiven, debut) # Useful Variables

head(lahmanP) %&gt;% print() # Print the first few rows</code></pre>
<pre><code>##            nameGiven      debut
## 1 Talmadge Lafayette 1942-09-19
## 2      Theodore Wade 1955-04-13
## 3     Virgil Woodrow 1946-07-28
## 4     Dustin Michael 2011-06-17
## 5         Russ Moore 2004-09-03
## 6       Jordon Scott 2020-08-04</code></pre>
<p>If You want this table to look nicer, you can use the <code>gt</code> package!</p>
<pre class="r"><code># install.packages(&quot;gt&quot;)
library(gt)

lahmanP %&gt;% 
  head() %&gt;% 
  gt()</code></pre>
<div id="fmiyaspdfx" style="overflow-x:auto;overflow-y:auto;width:auto;height:auto;">
<style>html {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Helvetica Neue', 'Fira Sans', 'Droid Sans', Arial, sans-serif;
}

#fmiyaspdfx .gt_table {
  display: table;
  border-collapse: collapse;
  margin-left: auto;
  margin-right: auto;
  color: #333333;
  font-size: 16px;
  font-weight: normal;
  font-style: normal;
  background-color: #FFFFFF;
  width: auto;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #A8A8A8;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #A8A8A8;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
}

#fmiyaspdfx .gt_heading {
  background-color: #FFFFFF;
  text-align: center;
  border-bottom-color: #FFFFFF;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fmiyaspdfx .gt_title {
  color: #333333;
  font-size: 125%;
  font-weight: initial;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-color: #FFFFFF;
  border-bottom-width: 0;
}

#fmiyaspdfx .gt_subtitle {
  color: #333333;
  font-size: 85%;
  font-weight: initial;
  padding-top: 0;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-color: #FFFFFF;
  border-top-width: 0;
}

#fmiyaspdfx .gt_bottom_border {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fmiyaspdfx .gt_col_headings {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
}

#fmiyaspdfx .gt_col_heading {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 6px;
  padding-left: 5px;
  padding-right: 5px;
  overflow-x: hidden;
}

#fmiyaspdfx .gt_column_spanner_outer {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: normal;
  text-transform: inherit;
  padding-top: 0;
  padding-bottom: 0;
  padding-left: 4px;
  padding-right: 4px;
}

#fmiyaspdfx .gt_column_spanner_outer:first-child {
  padding-left: 0;
}

#fmiyaspdfx .gt_column_spanner_outer:last-child {
  padding-right: 0;
}

#fmiyaspdfx .gt_column_spanner {
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: bottom;
  padding-top: 5px;
  padding-bottom: 5px;
  overflow-x: hidden;
  display: inline-block;
  width: 100%;
}

#fmiyaspdfx .gt_group_heading {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
}

#fmiyaspdfx .gt_empty_group_heading {
  padding: 0.5px;
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  vertical-align: middle;
}

#fmiyaspdfx .gt_from_md > :first-child {
  margin-top: 0;
}

#fmiyaspdfx .gt_from_md > :last-child {
  margin-bottom: 0;
}

#fmiyaspdfx .gt_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  margin: 10px;
  border-top-style: solid;
  border-top-width: 1px;
  border-top-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 1px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 1px;
  border-right-color: #D3D3D3;
  vertical-align: middle;
  overflow-x: hidden;
}

#fmiyaspdfx .gt_stub {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
}

#fmiyaspdfx .gt_stub_row_group {
  color: #333333;
  background-color: #FFFFFF;
  font-size: 100%;
  font-weight: initial;
  text-transform: inherit;
  border-right-style: solid;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
  padding-left: 5px;
  padding-right: 5px;
  vertical-align: top;
}

#fmiyaspdfx .gt_row_group_first td {
  border-top-width: 2px;
}

#fmiyaspdfx .gt_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fmiyaspdfx .gt_first_summary_row {
  border-top-style: solid;
  border-top-color: #D3D3D3;
}

#fmiyaspdfx .gt_first_summary_row.thick {
  border-top-width: 2px;
}

#fmiyaspdfx .gt_last_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fmiyaspdfx .gt_grand_summary_row {
  color: #333333;
  background-color: #FFFFFF;
  text-transform: inherit;
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
}

#fmiyaspdfx .gt_first_grand_summary_row {
  padding-top: 8px;
  padding-bottom: 8px;
  padding-left: 5px;
  padding-right: 5px;
  border-top-style: double;
  border-top-width: 6px;
  border-top-color: #D3D3D3;
}

#fmiyaspdfx .gt_striped {
  background-color: rgba(128, 128, 128, 0.05);
}

#fmiyaspdfx .gt_table_body {
  border-top-style: solid;
  border-top-width: 2px;
  border-top-color: #D3D3D3;
  border-bottom-style: solid;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
}

#fmiyaspdfx .gt_footnotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fmiyaspdfx .gt_footnote {
  margin: 0px;
  font-size: 90%;
  padding-left: 4px;
  padding-right: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fmiyaspdfx .gt_sourcenotes {
  color: #333333;
  background-color: #FFFFFF;
  border-bottom-style: none;
  border-bottom-width: 2px;
  border-bottom-color: #D3D3D3;
  border-left-style: none;
  border-left-width: 2px;
  border-left-color: #D3D3D3;
  border-right-style: none;
  border-right-width: 2px;
  border-right-color: #D3D3D3;
}

#fmiyaspdfx .gt_sourcenote {
  font-size: 90%;
  padding-top: 4px;
  padding-bottom: 4px;
  padding-left: 5px;
  padding-right: 5px;
}

#fmiyaspdfx .gt_left {
  text-align: left;
}

#fmiyaspdfx .gt_center {
  text-align: center;
}

#fmiyaspdfx .gt_right {
  text-align: right;
  font-variant-numeric: tabular-nums;
}

#fmiyaspdfx .gt_font_normal {
  font-weight: normal;
}

#fmiyaspdfx .gt_font_bold {
  font-weight: bold;
}

#fmiyaspdfx .gt_font_italic {
  font-style: italic;
}

#fmiyaspdfx .gt_super {
  font-size: 65%;
}

#fmiyaspdfx .gt_footnote_marks {
  font-style: italic;
  font-weight: normal;
  font-size: 75%;
  vertical-align: 0.4em;
}

#fmiyaspdfx .gt_asterisk {
  font-size: 100%;
  vertical-align: 0;
}

#fmiyaspdfx .gt_slash_mark {
  font-size: 0.7em;
  line-height: 0.7em;
  vertical-align: 0.15em;
}

#fmiyaspdfx .gt_fraction_numerator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: 0.45em;
}

#fmiyaspdfx .gt_fraction_denominator {
  font-size: 0.6em;
  line-height: 0.6em;
  vertical-align: -0.05em;
}
</style>
<table class="gt_table">
  
  <thead class="gt_col_headings">
    <tr>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">nameGiven</th>
      <th class="gt_col_heading gt_columns_bottom_border gt_left" rowspan="1" colspan="1">debut</th>
    </tr>
  </thead>
  <tbody class="gt_table_body">
    <tr><td class="gt_row gt_left">Talmadge Lafayette</td>
<td class="gt_row gt_left">1942-09-19</td></tr>
    <tr><td class="gt_row gt_left">Theodore Wade</td>
<td class="gt_row gt_left">1955-04-13</td></tr>
    <tr><td class="gt_row gt_left">Virgil Woodrow</td>
<td class="gt_row gt_left">1946-07-28</td></tr>
    <tr><td class="gt_row gt_left">Dustin Michael</td>
<td class="gt_row gt_left">2011-06-17</td></tr>
    <tr><td class="gt_row gt_left">Russ Moore</td>
<td class="gt_row gt_left">2004-09-03</td></tr>
    <tr><td class="gt_row gt_left">Jordon Scott</td>
<td class="gt_row gt_left">2020-08-04</td></tr>
  </tbody>
  
  
</table>
</div>
<p>The <code>gt</code> package very useful and has a lot more feature that are fun to explore. For more information, look at Thomas Mock’s “gt - a (G)rammar of (T)ables” blog post linked here:</p>
<p><a href="https://themockup.blog/posts/2020-05-16-gt-a-grammer-of-tables/" class="uri">https://themockup.blog/posts/2020-05-16-gt-a-grammer-of-tables/</a></p>
</div>
<div id="conclusion" class="section level1">
<h1>Conclusion</h1>
<p>There are a lot more things to learn about R Markdown and R in general; these are only the basics!</p>
</div>
